var p=(e,l,i)=>{const s=e[l];return s?typeof s=="function"?s():Promise.resolve(s):new Promise((a,n)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(n.bind(null,new Error("Unknown variable dynamic import: "+l+(l.split("/").length!==i?". Note that variables only represent file names one level deep.":""))))})};let t=null,o=null,m=[],c,r;self.onmessage=function(e){switch(e.data?.type){case"Iterate":const l=c.rankUpSSR(t,o.ODDS_CHARACTER_SSR,o.ODDS_WEAPON_SSR,o.SSR_CHAR_PITY,o.SSR_WEP_PITY,o.pities,o.RATE_UP_ODDS);r.pruneAndNormalize(t),m.push(r.consolidateProbabilities(t));const i=r.checkIsTarget(t,o.target,m.length);let s=!1;i||(s=r.checkIsEmpty(t,i)),s||i?(r.pruneAndNormalize(t),self.postMessage({type:"LastIteration",lossData:l,isEmpty:s,isTarget:i,allPullsDistributionSSR:[...m],distributionSSR:t})):self.postMessage({type:"IterationComplete",lossData:l});break;case"Initiate":Promise.all([p(Object.assign({"../../../games/R1999/R1999-pull-logic.js":()=>import("./R1999-pull-logic-D5GF5WT8.js"),"../../../games/common/common-pull-logic.js":()=>import("./common-pull-logic-Dh2Y5ybP.js"),"../../../games/endfield/endfield-pull-logic.js":()=>import("./endfield-pull-logic-CeKa_CsO.js"),"../../../games/genshin/genshin-pull-logic.js":()=>import("./genshin-pull-logic-Pe4RtljL.js"),"../../../games/morimens/morimens-pull-logic.js":()=>import("./morimens-pull-logic-CgNaAYvx.js"),"../../../games/wuwa/wuwa-pull-logic.js":()=>import("./wuwa-pull-logic-DnSkwhdU.js"),"../../../games/zenless/zenless-pull-logic.js":()=>import("./zenless-pull-logic-yGDQyFD1.js")}),`../../../games/${e.data.context.moduleType.pullLogic}/${e.data.context.moduleType.pullLogic}-pull-logic.js`,6),p(Object.assign({"../../../games/R1999/R1999-helpers.js":()=>import("./R1999-helpers-D2qdpyoF.js"),"../../../games/common/common-helpers.js":()=>import("./common-helpers-B2WE4zNo.js"),"../../../games/endfield/cashback-helpers.js":()=>import("./cashback-helpers-B46PwS9U.js"),"../../../games/endfield/endfield-helpers.js":()=>import("./endfield-helpers-BcZvngEK.js"),"../../../games/genshin/genshin-helpers.js":()=>import("./genshin-helpers-BIwKO5JD.js"),"../../../games/morimens/morimens-helpers.js":()=>import("./morimens-helpers-DVaKfHoS.js"),"../../../games/wuwa/wuwa-helpers.js":()=>import("./wuwa-helpers-B_hitJ3O.js")}),`../../../games/${e.data.context.moduleType.helpers}/${e.data.context.moduleType.helpers}-helpers.js`,6)]).then(([a,n])=>{c=a,r=n,t=e.data.distribution,o=e.data.context.contextSSR,self.postMessage({type:"InitComplete"})}).catch(a=>{console.error("Failed to load modules:",a),self.postMessage({type:"InitError",error:a.message})});break;default:console.warn("Unknown type:",e.data?.type)}};self.onerror=function(e){console.error("Worker error:",e)};
