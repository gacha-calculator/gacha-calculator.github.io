var c=(e,l,n)=>{const t=e[l];return t?typeof t=="function"?t():Promise.resolve(t):new Promise((a,p)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(p.bind(null,new Error("Unknown variable dynamic import: "+l+(l.split("/").length!==n?". Note that variables only represent file names one level deep.":""))))})};let s=null,o=null,r=0;const u=10;let m=[],g,i;self.onmessage=function(e){switch(e.data?.type){case"Iterate":r++;const l=g.rankUpSSR(s,o.ODDS_CHARACTER_SSR,o.ODDS_WEAPON_SSR,o.SSR_CHAR_PITY,o.SSR_WEP_PITY,o.pities);r===u&&(i.pruneAndNormalize(s),r=0),m.push(i.consolidateProbabilities(s));const n=i.checkIsTarget(s,o.target,m.length);let t=!1;n||(t=i.checkIsEmpty(s,n)),t||n?(r!=u&&i.pruneAndNormalize(s),self.postMessage({type:"LastIteration",lossData:l,isEmpty:t,isTarget:n,allPullsDistributionSSR:[...m],distributionSSR:s})):self.postMessage({type:"IterationComplete",lossData:l});break;case"Initiate":Promise.all([c(Object.assign({"../../../games/R1999/R1999-pull-logic.js":()=>import("./R1999-pull-logic-C-0CGmpt.js"),"../../../games/common/common-pull-logic.js":()=>import("./common-pull-logic-YSTYOplX.js"),"../../../games/genshin/genshin-pull-logic.js":()=>import("./genshin-pull-logic-BpAr9xVE.js")}),`../../../games/${e.data.context.moduleType}/${e.data.context.moduleType}-pull-logic.js`,6),c(Object.assign({"../../../games/R1999/R1999-helpers.js":()=>import("./R1999-helpers-RhaI-B9x.js"),"../../../games/common/common-helpers.js":()=>import("./common-helpers-Crw9WSuo.js"),"../../../games/genshin/genshin-helpers.js":()=>import("./genshin-helpers-hXTOKECw.js")}),`../../../games/${e.data.context.moduleType}/${e.data.context.moduleType}-helpers.js`,6)]).then(([a,p])=>{g=a,i=p,s=e.data.distribution,o=e.data.context.contextSSR,self.postMessage({type:"InitComplete"})}).catch(a=>{console.error("Failed to load modules:",a),self.postMessage({type:"InitError",error:a.message})});break;default:console.warn("Unknown type:",e.data?.type)}};self.onerror=function(e){console.error("Worker error:",e)};
