function i(n,c,r){const e=[];let o=0;for(let t=0;t<n.length;t++)for(const[f,u]of n[t].offRates.entries())u.prob>c&&(e.push({rateUpCount:t-r,charOffRateCount:f,probability:u.prob}),o=Math.max(o,f));return{combos:e,maxOffRateCount:o}}function p(n,c,r){let e=c[n.rateUpCount],o=r[n.charOffRateCount];return{mean:e+o.mean,variance:o.variance}}function b(n,c){const r=[];for(const[a,s]of n[0].offRates)r.push({prob:s.prob,mean:c[a].mean,variance:c[a].variance});let e=0;for(const a of r)e+=a.prob*a.mean;let o=0,t=0;for(const a of r)o+=a.prob*a.variance,t+=a.prob*(a.mean*a.mean);const f=t-e*e,u=o+f;return{mean:e,variance:u}}export{b as aggregateCashbackFromSR,p as calculateComboCashbackSSR,i as getCombosSSR};
