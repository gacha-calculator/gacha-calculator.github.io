var c=(e,l,i)=>{const t=e[l];return t?typeof t=="function"?t():Promise.resolve(t):new Promise((n,p)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(p.bind(null,new Error("Unknown variable dynamic import: "+l+(l.split("/").length!==i?". Note that variables only represent file names one level deep.":""))))})};let s=null,o=null,r=0;const u=10;let m=[],g,a;self.onmessage=function(e){switch(e.data?.type){case"Iterate":r++;const l=g.rankUpSSR(s,o.ODDS_CHARACTER_SSR,o.ODDS_WEAPON_SSR,o.SSR_CHAR_PITY,o.SSR_WEP_PITY,o.pities);r===u&&(a.pruneAndNormalize(s),r=0),m.push(a.consolidateProbabilities(s));const i=a.checkIsTarget(s,o.target,m.length);let t=!1;i||(t=a.checkIsEmpty(s,i)),t||i?(r!=u&&a.pruneAndNormalize(s),self.postMessage({type:"LastIteration",lossData:l,isEmpty:t,isTarget:i,allPullsDistributionSSR:[...m],distributionSSR:s})):self.postMessage({type:"IterationComplete",lossData:l});break;case"Initiate":Promise.all([c(Object.assign({"../../../games/R1999/R1999-pull-logic.js":()=>import("./R1999-pull-logic-BZ6MnoxJ.js"),"../../../games/common/common-pull-logic.js":()=>import("./common-pull-logic-JMQwaGIq.js"),"../../../games/genshin/genshin-pull-logic.js":()=>import("./genshin-pull-logic-Burtj6JU.js"),"../../../games/wuwa/wuwa-pull-logic.js":()=>import("./wuwa-pull-logic-4LDEfchb.js"),"../../../games/zenless/zenless-pull-logic.js":()=>import("./zenless-pull-logic-Bh_iAFjD.js")}),`../../../games/${e.data.context.moduleType.pullLogic}/${e.data.context.moduleType.pullLogic}-pull-logic.js`,6),c(Object.assign({"../../../games/R1999/R1999-helpers.js":()=>import("./R1999-helpers-Bcwiz0nM.js"),"../../../games/common/common-helpers.js":()=>import("./common-helpers-B2WE4zNo.js"),"../../../games/genshin/genshin-helpers.js":()=>import("./genshin-helpers-BIwKO5JD.js"),"../../../games/wuwa/wuwa-helpers.js":()=>import("./wuwa-helpers-B_hitJ3O.js")}),`../../../games/${e.data.context.moduleType.helpers}/${e.data.context.moduleType.helpers}-helpers.js`,6)]).then(([n,p])=>{g=n,a=p,s=e.data.distribution,o=e.data.context.contextSSR,self.postMessage({type:"InitComplete"})}).catch(n=>{console.error("Failed to load modules:",n),self.postMessage({type:"InitError",error:n.message})});break;default:console.warn("Unknown type:",e.data?.type)}};self.onerror=function(e){console.error("Worker error:",e)};
