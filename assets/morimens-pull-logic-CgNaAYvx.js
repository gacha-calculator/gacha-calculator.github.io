function _(E,l,i){const e=E.length-2;for(let r=e;r>=0;r--){const f=E[r];f.isEmpty||V(l,r,E,i,f.type,0)}}function V(E,l,i,e,r,f){const U=i[l].states.length;let L=1/3;if(r==="char"){const s=i[l].states,P=i[l+1].states;for(let t=U-1;t>=0;t--){const b=s[t];let o=0;t>=e*2?o=2:t>=e&&(o=1);const S=E[t-e*o],n=b*S,N=b-n;let a=n;if(a>1e-10&&(o!=2&&(a*=L),P[f]+=a),o===0){let c=n*(1-L);c>1e-10&&(s[e]+=c)}else if(o===1){let c=n*(1-L);c>1e-10&&(s[e*2]+=c)}let R=N;R>1e-10&&(s[t+1]+=R),s[t]=0}}else if(r==="wep"){const s=i[l].states,P=i[l+1].states;for(let t=U-1;t>=0;t--){const b=s[t],o=t>=e,S=E[t-e*o],n=b*S,N=b-n;let a=n;if(a>1e-10&&(o||(a*=L),P[f]+=a),!o){let c=n*(1-L);c>1e-10&&(s[e]+=c)}let R=N;R>1e-10&&(s[t+1]+=R),s[t]=0}}}export{V as handleSSRCheap,_ as rankUpSSRCheap};
