function p(l){let t=[];for(let s of l)for(let e=0;e<s.length;e++)for(let r=0;r<s[e].states.length;r++)if(Array.isArray(s[e].states[r]))for(let n=0;n<s[e].states[r].length;n++)for(let[o,a]of s[e].states[r][n])if(t[e]===void 0)t.push({states:Array.from({length:2},()=>new Map)}),t[e].states[0].set(o,{prob:a.prob});else{const f=t[e].states[r],i=f.get(o);i?i.prob+=a.prob:f.set(o,{prob:a.prob})}else for(let[n,o]of s[e].states[r])if(t[e]===void 0)t.push({states:Array.from({length:2},()=>new Map)}),t[e].states[0].set(n,{prob:o.prob});else{const a=t[e].states[r],f=a.get(n);f?f.prob+=o.prob:a.set(n,{prob:o.prob})}return t}function u(l){let t=0;for(let r of l)t+=r.pullsSum;if(Math.abs(t-1)>1e-5)for(let r of l)r.pullsSum/=t,r.rankUps/=t}export{p as consolidateSRBanners,u as normalizePullsPerBanner};
