var c=(e,l,i)=>{const t=e[l];return t?typeof t=="function"?t():Promise.resolve(t):new Promise((r,m)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(m.bind(null,new Error("Unknown variable dynamic import: "+l+(l.split("/").length!==i?". Note that variables only represent file names one level deep.":""))))})};let s=null,o=null,a=0;const u=10;let p=[],g,n;self.onmessage=function(e){switch(e.data?.type){case"Iterate":a++;const l=g.rankUpSSR(s,o.ODDS_CHARACTER_SSR,o.ODDS_WEAPON_SSR,o.SSR_CHAR_PITY,o.SSR_WEP_PITY,o.pities,o.RATE_UP_ODDS);a===u&&(n.pruneAndNormalize(s),a=0),p.push(n.consolidateProbabilities(s));const i=n.checkIsTarget(s,o.target,p.length);let t=!1;i||(t=n.checkIsEmpty(s,i)),t||i?(a!=u&&n.pruneAndNormalize(s),self.postMessage({type:"LastIteration",lossData:l,isEmpty:t,isTarget:i,allPullsDistributionSSR:[...p],distributionSSR:s})):self.postMessage({type:"IterationComplete",lossData:l});break;case"Initiate":Promise.all([c(Object.assign({"../../../games/R1999/R1999-pull-logic.js":()=>import("./R1999-pull-logic-D5GF5WT8.js"),"../../../games/common/common-pull-logic.js":()=>import("./common-pull-logic-Dh2Y5ybP.js"),"../../../games/genshin/genshin-pull-logic.js":()=>import("./genshin-pull-logic-Pe4RtljL.js"),"../../../games/morimens/morimens-pull-logic.js":()=>import("./morimens-pull-logic-CgNaAYvx.js"),"../../../games/wuwa/wuwa-pull-logic.js":()=>import("./wuwa-pull-logic-DnSkwhdU.js"),"../../../games/zenless/zenless-pull-logic.js":()=>import("./zenless-pull-logic-yGDQyFD1.js")}),`../../../games/${e.data.context.moduleType.pullLogic}/${e.data.context.moduleType.pullLogic}-pull-logic.js`,6),c(Object.assign({"../../../games/R1999/R1999-helpers.js":()=>import("./R1999-helpers-Bcwiz0nM.js"),"../../../games/common/common-helpers.js":()=>import("./common-helpers-B2WE4zNo.js"),"../../../games/genshin/genshin-helpers.js":()=>import("./genshin-helpers-BIwKO5JD.js"),"../../../games/morimens/morimens-helpers.js":()=>import("./morimens-helpers-DVaKfHoS.js"),"../../../games/wuwa/wuwa-helpers.js":()=>import("./wuwa-helpers-B_hitJ3O.js")}),`../../../games/${e.data.context.moduleType.helpers}/${e.data.context.moduleType.helpers}-helpers.js`,6)]).then(([r,m])=>{g=r,n=m,s=e.data.distribution,o=e.data.context.contextSSR,self.postMessage({type:"InitComplete"})}).catch(r=>{console.error("Failed to load modules:",r),self.postMessage({type:"InitError",error:r.message})});break;default:console.warn("Unknown type:",e.data?.type)}};self.onerror=function(e){console.error("Worker error:",e)};
